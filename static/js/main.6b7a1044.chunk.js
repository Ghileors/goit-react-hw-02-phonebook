(this["webpackJsonpgoit-react-hw-phonebook"]=this["webpackJsonpgoit-react-hw-phonebook"]||[]).push([[0],{14:function(t,e,n){t.exports={ContactForm:"ContactForm_ContactForm__1fCkt",nameInput:"ContactForm_nameInput__3foIk",numberInput:"ContactForm_numberInput__3ujaF",nameLabel:"ContactForm_nameLabel__3B3ub",addButton:"ContactForm_addButton__2Bryk"}},40:function(t,e,n){t.exports={Notification:"Notification_Notification__3wRcD"}},41:function(t,e,n){t.exports={enter:"AppearStyles_enter__1I0v3",enterActive:"AppearStyles_enterActive__1rBMo",exit:"AppearStyles_exit__pZN3y",exitActive:"AppearStyles_exitActive__3Xl9p"}},42:function(t,e,n){t.exports={Button:"Button_Button__1N5Bi"}},43:function(t,e,n){t.exports={ContactItem:"ContactItem_ContactItem__9cR7s"}},44:function(t,e,n){t.exports={enter:"AppearStyles_enter__3R0_Z",enterActive:"AppearStyles_enterActive__2ZMhC",exit:"AppearStyles_exit__i9uXx",exitActive:"AppearStyles_exitActive__2tr_P"}},45:function(t,e,n){t.exports={ContactList:"ContactList_ContactList__xKXoW",Text:"ContactList_Text__xRF_m"}},46:function(t,e,n){t.exports={Section:"Section_Section__19629"}},47:function(t,e,n){t.exports={appear:"AppearStyles_appear__JAViF",appearActive:"AppearStyles_appearActive__1ioD3"}},48:function(t,e,n){t.exports={enter:"AppearStyles_enter__3Gc33",enterActive:"AppearStyles_enterActive__3AVUZ",exit:"AppearStyles_exit__220wm",exitActive:"AppearStyles_exitActive__3_2Sg"}},50:function(t,e,n){t.exports=n(81)},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a,c,r=n(0),o=n.n(r),i=n(10),u=n.n(i),s=n(19),l=n(1),m=n(9),p=n(37),f=n.n(p),b=n(3),d=n(2),_=Object(l.b)("contacts/fetchContactsRequest"),h=Object(l.b)("contacts/fetchContactsSuccess"),C=Object(l.b)("contacts/fetchContactsError"),v=Object(l.b)("contacts/addContactRequest"),O=Object(l.b)("contacts/addContactSuccess"),j=Object(l.b)("contacts/addContactError"),g=Object(l.b)("contacts/removeContactRequest"),x=Object(l.b)("contacts/removeContactSuccess"),E=Object(l.b)("contacts/removeContactError"),y=Object(l.b)("contacts/changeFilter"),A=Object(l.c)([],(a={},Object(b.a)(a,h,(function(t,e){return e.payload})),Object(b.a)(a,O,(function(t,e){var n=e.payload;return[].concat(Object(s.a)(t),[n])})),Object(b.a)(a,x,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),a)),S=Object(l.c)("",Object(b.a)({},y,(function(t,e){return e.payload}))),N=Object(l.c)(!1,(c={},Object(b.a)(c,_,(function(){return!0})),Object(b.a)(c,h,(function(){return!1})),Object(b.a)(c,C,(function(){return!1})),Object(b.a)(c,v,(function(){return!0})),Object(b.a)(c,O,(function(){return!1})),Object(b.a)(c,j,(function(){return!1})),Object(b.a)(c,g,(function(){return!0})),Object(b.a)(c,x,(function(){return!1})),Object(b.a)(c,E,(function(){return!1})),c)),k=Object(d.c)({contacts:A,filter:S,loading:N}),F={key:"root",storage:f.a,blacklist:["filter"]},w=Object(s.a)(Object(l.d)({serializableCheck:{ignoredActions:[m.a,m.f,m.b,m.c,m.d,m.e]}})),L=Object(l.a)({reducer:{contacts:Object(m.g)(F,k)},middleware:w}),I={store:L,persistor:Object(m.h)(L)},B=n(7),R=n(38),M=n(17),D=n(18),T=n(21),V=n(20),Z=n(11),q=n.n(Z),J=n(22),X=n(15),P=n.n(X);P.a.defaults.baseURL="http://localhost:4040";var U={fetchContacts:function(){return function(){var t=Object(J.a)(q.a.mark((function t(e){var n,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(_()),t.prev=1,t.next=4,P.a.get("/contacts");case 4:n=t.sent,a=n.data,e(h(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(C(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t){return function(){var e=Object(J.a)(q.a.mark((function e(n){var a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(v()),e.prev=1,e.next=4,P.a.post("/contacts",t);case 4:a=e.sent,c=a.data,n(O(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(j(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(J.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g()),e.prev=1,e.next=4,P.a.delete("/contacts/".concat(t));case 4:n(x(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(E(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},z=n(8),G=function(t){return t.contacts.contacts},K=function(t){return t.contacts.filter},W={getLoading:function(t){return t.contacts.loading},getFilter:K,getContacts:G,getVisibleContacts:Object(z.a)([G,K],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.number.includes(e)}))})),getContactById:Object(z.a)([function(t,e){return e},G],(function(t,e){return e.find((function(e){return e.id===t}))}))},Y=n(82),H=n(39),Q=n(40),$=n.n(Q),tt=function(){return o.a.createElement("div",{className:$.a.Notification},o.a.createElement("p",null,"This contact is already on the list!"))},et=n(14),nt=n.n(et),at=n(41),ct=n.n(at),rt=function(t){Object(T.a)(n,t);var e=Object(V.a)(n);function n(){var t;Object(M.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",existingContact:!1,errorMessage:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(b.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number;t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(a.toLowerCase())?t.showNotification("".concat(a," is already on the list!")):a&&c?t.props.onAddContact({name:a,number:c}):t.showNotification("You are trying to add an empty field!"),t.setState({name:"",number:""})},t.showNotification=function(){t.setState({existingContact:!0}),setTimeout((function(){return t.setState({existingContact:!1})}),2e3)},t}return Object(D.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.existingContact;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,{in:a,classNames:ct.a,unmountOnExit:!0,timeout:200},o.a.createElement(tt,null)),o.a.createElement("form",{className:nt.a.ContactForm,onSubmit:this.handleSubmit},o.a.createElement("label",{className:nt.a.nameLabel},o.a.createElement("input",{className:nt.a.nameInput,onChange:this.handleChange,placeholder:"Enter name...",value:e,type:"text",name:"name",autoFocus:!0})),o.a.createElement("label",null,o.a.createElement(H.a,{className:nt.a.numberInput,format:"###-##-##",onChange:this.handleChange,placeholder:"Enter phone Number...",value:n,name:"number",mask:""})),o.a.createElement("button",{className:nt.a.addButton,type:"submit"})))}}]),n}(r.Component),ot={onAddContact:U.addContact},it=Object(B.b)((function(t){return{contacts:W.getContacts(t)}}),ot)(rt),ut=n(83),st=n(42),lt=n.n(st);function mt(t){var e=t.id,n=t.onRemove;return o.a.createElement("button",{id:e,className:lt.a.Button,type:"submit",onClick:n})}var pt=n(43),ft=n.n(pt),bt=Object(B.b)((function(t,e){return{contact:W.getContactById(t,e.id)}}),(function(t,e){return{onRemoveContact:function(){return t(U.deleteContact(e.id))}}}))((function(t){var e=t.contact,n=void 0===e?{}:e,a=t.onRemoveContact;return o.a.createElement("li",{className:ft.a.ContactItem},n.name,": ",n.number,o.a.createElement(mt,{id:n.id,onRemove:a}))})),dt=n(44),_t=n.n(dt),ht=n(45),Ct=n.n(ht),vt=Object(B.b)((function(t){return{contacts:W.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ut.a,{component:"ul",className:Ct.a.ContactList},e.length>0&&e.map((function(t){return o.a.createElement(Y.a,{timeout:200,key:t.id,classNames:_t.a},o.a.createElement(bt,{key:t.id,id:t.id}))}))))})),Ot=n(46),jt=n.n(Ot),gt=n(47),xt=n.n(gt);function Et(t){var e=t.title,n=t.children;return o.a.createElement("div",{className:jt.a.Section},o.a.createElement(Y.a,{in:!0,appear:!0,unmountOnExit:!0,classNames:xt.a,timeout:2e3},o.a.createElement("h2",{ref:o.a.createRef()},e)),n)}var yt=n(48),At=n.n(yt),St={onChangeFilter:y},Nt=Object(B.b)((function(t){return{value:W.getFilter(t),contacts:W.getContacts(t)}}),St)((function(t){var e=t.contacts,n=t.value,a=t.onChangeFilter;return e.length>1&&o.a.createElement("label",{className:"label"},o.a.createElement(Y.a,{timeout:200,classNames:At.a},o.a.createElement("input",{className:"filterInput",type:"text",name:"filter",value:n,placeholder:"Search contact...",onChange:function(t){return a(t.target.value)}})))})),kt=function(t){Object(T.a)(n,t);var e=Object(V.a)(n);function n(){return Object(M.a)(this,n),e.apply(this,arguments)}return Object(D.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Et,{title:"Phonebook"},o.a.createElement(it,null)),o.a.createElement(Et,{title:"Contacts"},o.a.createElement(Nt,null),this.props.isLoadingContact&&o.a.createElement("h1",{className:"loading-state"},"Loading..."),o.a.createElement(vt,null)))}}]),n}(r.Component),Ft={onFetchContacts:U.fetchContacts},wt=Object(B.b)((function(t){return{isLoadingContact:W.getLoading(t)}}),Ft)(kt),Lt=function(){return o.a.createElement(wt,null)};n(80);u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B.a,{store:I.store},o.a.createElement(R.a,{loading:null,persistor:I.persistor},o.a.createElement(Lt,null)))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.6b7a1044.chunk.js.map